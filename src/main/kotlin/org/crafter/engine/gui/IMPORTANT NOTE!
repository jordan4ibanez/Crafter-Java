Consolidate this.

This is written like a Java program and is very...verbose in it's file structure